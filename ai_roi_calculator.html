import { useState } from "react";

export default function AIROI() {
  const [inputs, setInputs] = useState({
    laborSavings: 0,
    revenueUplift: 0,
    productivityGains: 0,
    errorReduction: 0,
    timeToDeliverySavings: 0,
    strategicValue: 0,
    modelFees: 0,
    infraCosts: 0,
    devIntegration: 0,
    fineTuning: 0,
    personnelCosts: 0,
    complianceCosts: 0,
    maintenanceCosts: 0,
    changeMgmt: 0,
  });

  const handleChange = (e) => {
    setInputs({ ...inputs, [e.target.name]: parseFloat(e.target.value) || 0 });
  };

  const totalBenefits =
    inputs.laborSavings +
    inputs.revenueUplift +
    inputs.productivityGains +
    inputs.errorReduction +
    inputs.timeToDeliverySavings +
    inputs.strategicValue;

  const totalInvestment =
    inputs.modelFees +
    inputs.infraCosts +
    inputs.devIntegration +
    inputs.fineTuning +
    inputs.personnelCosts +
    inputs.complianceCosts +
    inputs.maintenanceCosts +
    inputs.changeMgmt;

  const roiPercent = totalInvestment === 0 ? Infinity : ((totalBenefits - totalInvestment) / totalInvestment) * 100;
  const paybackMonths = totalBenefits > 0 ? totalInvestment / (totalBenefits / 12) : Infinity;

  return (
    <div className="p-4 max-w-4xl mx-auto">
      <h1 className="text-2xl font-bold mb-4">AI ROI Calculator</h1>

      <div className="grid grid-cols-2 gap-4 mb-6">
        {Object.entries(inputs).map(([key, value]) => (
          <div key={key}>
            <label className="block text-sm font-medium mb-1 capitalize">{key.replace(/([A-Z])/g, " $1")}</label>
            <input
              type="number"
              name={key}
              value={value}
              onChange={handleChange}
              className="w-full p-2 border rounded"
            />
          </div>
        ))}
      </div>

      <div className="bg-gray-100 p-4 rounded shadow">
        <p><strong>Total Annualized Benefits:</strong> ${totalBenefits.toLocaleString()}</p>
        <p><strong>Total Investment:</strong> ${totalInvestment.toLocaleString()}</p>
        <p><strong>ROI (%):</strong> {roiPercent.toFixed(2)}%</p>
        <p><strong>Payback Period (months):</strong> {paybackMonths.toFixed(1)}</p>
      </div>
    </div>
  );
}
